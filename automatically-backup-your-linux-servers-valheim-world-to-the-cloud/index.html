<!DOCTYPE html><html lang="en-us"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Automatically backup your Linux server&#x27;s Valheim world to the cloud - Kevin Payravi&#x27;s Blog</title><meta name="description" content="Valheim's Early Access release on Steam has taken the gaming world by storm. But as with any early access game, Valheim is no stranger to bugs, and it's important to frequently back up your worlds in case you ever need to restore them. In my&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://blog.payravi.dev/automatically-backup-your-linux-servers-valheim-world-to-the-cloud/"><link rel="alternate" type="application/atom+xml" href="https://blog.payravi.dev/feed.xml"><link rel="alternate" type="application/json" href="https://blog.payravi.dev/feed.json"><meta property="og:title" content="Automatically backup your Linux server's Valheim world to the cloud"><meta property="og:site_name" content="Kevin Payravi's Blog"><meta property="og:description" content="Valheim's Early Access release on Steam has taken the gaming world by storm. But as with any early access game, Valheim is no stranger to bugs, and it's important to frequently back up your worlds in case you ever need to restore them. In my&hellip;"><meta property="og:url" content="https://blog.payravi.dev//automatically-backup-your-linux-servers-valheim-world-to-the-cloud/"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@KevinPayravi"><meta name="twitter:title" content="Automatically backup your Linux server's Valheim world to the cloud"><meta name="twitter:description" content="Valheim's Early Access release on Steam has taken the gaming world by storm. But as with any early access game, Valheim is no stranger to bugs, and it's important to frequently back up your worlds in case you ever need to restore them. In my&hellip;"><link rel="shortcut icon" href="https://blog.payravi.dev/media/website/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="https://blog.payravi.dev/assets/css/style.css?v=a696bbf80bbdaeff5ab5c5f3037e3cba"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.payravi.dev/automatically-backup-your-linux-servers-valheim-world-to-the-cloud/"},"headline":"Automatically backup your Linux server's Valheim world to the cloud","datePublished":"2021-03-06T06:35","dateModified":"2023-05-25T23:45","description":"Valheim's Early Access release on Steam has taken the gaming world by storm. But as with any early access game, Valheim is no stranger to bugs, and it's important to frequently back up your worlds in case you ever need to restore them. In my&hellip;","author":{"@type":"Person","name":"Kevin Payravi","url":"https://blog.payravi.dev/authors/kevin-payravi/"},"publisher":{"@type":"Organization","name":"Kevin Payravi"}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body><div class="container js-container"><div class="content"><header class="top"><div class="top__item"><a class="logo" href="https://blog.payravi.dev/">Kevin Payravi&#x27;s Blog</a></div><div class="top__item top__item--right"></div></header><main class="main"><article class="post"><div class="main__left"><header><h1>Automatically backup your Linux server&#x27;s Valheim world to the cloud</h1><p><time datetime="2021-03-06T06:35">March 6, 2021 </time>by <a href="https://blog.payravi.dev/authors/kevin-payravi/" rel="author" title="Kevin Payravi">Kevin Payravi</a></p></header></div><div class="main__right"><div class="post__entry"><p><a href="https://www.valheimgame.com/">Valheim's</a> Early Access release on Steam has taken the gaming world by storm. But as with any early access game, Valheim is no stranger to bugs, and it's important to frequently back up your worlds in case you ever need to restore them.</p><p>In my case, I'm hosting a dedicated server on Ubuntu. I installed and manage Valheim through <a href="https://linuxgsm.com/lgsm/vhserver/">LinuxGSM</a>, which is a great command line tool for managing dedicated servers for over 100 games. I wanted to automate world backups every thirty minutes to my personal Google Drive, and here's how I did it.</p><p></p><h2>Step 1: Set up Rclone</h2><p></p><p></p><p>We'll be using <a href="https://rclone.org/">Rclone</a> to easily integrate with the cloud service of your choice. This is a great, free, open-source command line program that lets you manage files on over 40 different cloud storage providers.</p><p></p><p></p><p>Follow the instructions to <a href="https://rclone.org/downloads/">download</a> and <a href="https://rclone.org/install/">install</a> using your favorite method, and then follow the <a href="https://rclone.org/docs/">documentation</a> to configure with your cloud provider of choice by running <code>rclone config</code>. I used Google Drive, which took just a couple minutes to set up. Keep whatever name you assign to your configuration handy.</p><p></p><p></p><h2>Step 2: Find your Valheim worlds</h2><p></p><p></p><p>Locate your Valheim worlds folder, which may vary depending on your installation. In my case through LinuxGSM, this was in <code>/home/vhserver/.config/unity3d/IronGate/Valheim/worlds/</code>. A world is made up of two files, a <code>.db</code> and <code>.fwl</code>(<code></code> being whatever you named your world at creation). These are the files we'll want to back up.</p><p></p><p></p><h2>Step 3: Schedule backup via crontab</h2><p></p><p></p><p>To schedule the backup, we'll edit our crontab through <code>crontab -e</code>.</p><p></p><p></p><p>At the end of the file, switch cron's default shell from sh to bash by adding:</p><p></p><p></p><p><code>SHELL=/bin/bash</code></p><p></p><p></p><p>This is needed to support the curly-brace syntax I use to select multiple files at once.</p><p></p><p></p><p>The next step is adding the commands to zip the world files and upload to the cloud. Here is mine (note that the name of my world is Serendipity and the name of my Rclone config is gdrive; change yours respectively).</p><p></p><p></p><p><strong><code>0,30 * * * * /usr/bin/zip -j /home/vhserver/.config/unity3d/IronGate/Valheim/worlds/Serendipity-Backup.zip /home/vhserver/.config/unity3d/IronGate/Valheim/worlds/Serendipity.{db,fwl} &amp;&amp; rclone copyto /home/vhserver/.config/unity3d/IronGate/Valheim/worlds/Serendipity-Backup.zip gdrive:Serendipity-$(date +\%Y-\%m-\%d-\%H:\%M).zip</code></strong></p><p></p><p></p><p>Here's an explanation for each part:</p><p></p><p></p><p><code>0,30 * * * *</code><br>This is standard crontab syntax for scheduling. It can be read as "minute - hour - day (of the month) - month - day (of the week)". In my case, I scheduled my backup to occur every half-hour at :00 and :30. You can adjust yours accordingly. If you wanted to do once a day at 3 AM, you would use <code>0 3 * * *</code>.</p><p></p><p></p><p><code><code>/usr/bin/zip -j /home/vhserver/.config/unity3d/IronGate/Valheim/worlds/Serendipity-Backup.zip /home/vhserver/.config/unity3d/IronGate/Valheim/worlds/Serendipity.{db,fwl}</code></code><br>Here I'm zipping up my world files (Serendipity.db and Serendipity.fwl). You'll want to compress these files as they are otherwise quite large. Uncompressed, my world files are 30 MB and growing, while compressing them brings them down to 10 MB. The -j flag disregards the directory names, so that your zip file will have the world files at the root level, instead of nested within /home/vhserver/....</p><p></p><p></p><p><code>rclone copyto /home/vhserver/.config/unity3d/IronGate/Valheim/worlds/Serendipity-Backup.zip gdrive:Serendipity-$(date +\%Y-\%m-\%d-\%H:\%M).zip</code><br>Here I'm performing the actual clone through copyto. I'm taking our new zip file and uploading it to our previously-configured remote (mine is called gdrive). I set the name of each file to the name of my world followed by a timestamp; you can change this however you wish.</p><p></p><p></p><p>And that's about it! Once you've got the backup working, do a practice run of restoring your world from the backup to ensure it actually works (and manually save your existing world files on the server in case the backup doesn't actually work!). If you run into any questions or have any issues, feel free to comment below.</p><p></p><footer><div class="post__tag-share"><ul class="post__tag"><li><a href="https://blog.payravi.dev/tags/backup/">backup</a></li><li><a href="https://blog.payravi.dev/tags/valheim/">valheim</a></li><li><a href="https://blog.payravi.dev/tags/world/">world</a></li></ul></div></footer></div></div></article></main><footer class="footer"><div class="footer__copyright">Powered by Publii</div></footer></div></div><script defer="defer" src="https://blog.payravi.dev/assets/js/scripts.min.js?v=27706a8fe221267c1834098c796f44c1"></script><script>var images = document.querySelectorAll('img[loading]');
   
           for (var i = 0; i < images.length; i++) {
               if (images[i].complete) {
                   images[i].classList.add('is-loaded');
               } else {
                   images[i].addEventListener('load', function () {
                       this.classList.add('is-loaded');
                   }, false);
               }
           }</script></body></html>